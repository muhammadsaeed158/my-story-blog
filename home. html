<!DOCTYPE html>  
<html lang="en">  
<head>  
  <meta charset="UTF-8">  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">  
  <title>Home - My Blog</title>  
  <link rel="stylesheet" href="style.css">  
  <style>  
    body {  
      font-family: 'Poppins', sans-serif;  
      background: #eef2f3;  
      margin: 0;  
    }  
    header {  
      background: #007BFF;  
      color: white;  
      padding: 15px;  
      display: flex;  
      justify-content: space-between;  
      align-items: center;  
    }  
    header h1 { margin: 0; font-size: 1.5rem; }  
    nav a {  
      color: white;  
      margin-left: 20px;  
      text-decoration: none;  
      font-weight: 600;  
    }  
    nav a:hover { text-decoration: underline; }  
    .logout-btn {  
      background: #dc3545;  
      color: white;  
      border: none;  
      padding: 10px 15px;  
      border-radius: 6px;  
      cursor: pointer;  
      font-size: 1rem;  
    }  
    .logout-btn:hover { background: #b02a37; }  
    .content { padding: 20px; }  
    section {  
      background: white;  
      padding: 20px;  
      margin-bottom: 20px;  
      border-radius: 10px;  
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);  
    }  
  </style>  
</head>  
<body>  
  
  <header>  
    <h1>My Blog</h1>  
    <nav id="nav-links">  
      <a href="index.html">Home</a>  
      <a href="videos.html">Videos</a>  
      <a href="articles.html">Articles</a>  
      <a href="website.html">Website Demo</a>  
      <a href="about.html">About</a>  
      <a href="contact.html">Contact</a>  
      <a href="inbox.html">Inbox</a>  
      <a href="account.html">Account</a>  
      <button id="logoutBtn" class="logout-btn" style="display:none;">Logout</button>  
    </nav>  
  </header>  
  
  <div class="content">  
    <section class="video-section">  
      <h2>ðŸŽ¥ Latest Videos</h2>  
      <p>Coming soon... Stay tuned!</p>  
    </section>  
  
    <section class="article-section">  
      <h2>ðŸ“° Latest Articles</h2>  
      <p>Read the latest stories and posts from our users.</p>  
    </section>  
  </div>  
  
  <script type="module">  
    import { createClient } from 'https://cdn.jsdelivr.net/npm/@supabase/supabase-js/+esm';  
  
    const supabase = createClient(  
      'https://ynvhluadxmsjoihdjmky.supabase.co',  
      'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InludmhsdWFkeG1zam9paGRqbWt5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTkzMDQwMTgsImV4cCI6MjA3NDg4MDAxOH0.MFbwBZf5AZZVhV7UZWA-eHMi0KWGXW1wxATyHgo3agE'  
    );  
  
    const navLinks = document.getElementById("nav-links");  
    const logoutBtn = document.getElementById("logoutBtn");  
  
    // âœ… Check if user is logged in  
    const { data: { user } } = await supabase.auth.getUser();  
  
    if (!user) {  
      // Not logged in â†’ show Sign In & Sign Up options  
      const loginLink = document.createElement("a");  
      loginLink.href = "login.html";  
      loginLink.textContent = "Sign In";  
      navLinks.appendChild(loginLink);  
  
      const signupLink = document.createElement("a");  
      signupLink.href = "signup.html";  
      signupLink.textContent = "Sign Up";  
      navLinks.appendChild(signupLink);  
    } else {  
      // Logged in â†’ show user name & logout  
      const { data: profile } = await supabase  
        .from('users')  
        .select('name')  
        .eq('id', user.id)  
        .single();  
  
      const userName = profile?.name || "My Account";  
  
      const userLink = document.createElement("a");  
      userLink.href = "account.html";  
      userLink.textContent = userName;  
      navLinks.appendChild(userLink);  
  
      logoutBtn.style.display = "inline-block";  
      logoutBtn.addEventListener("click", async () => {  
        await supabase.auth.signOut();  
        window.location.href = "login.html";  
      });  
    }  
  </script>  
</body>  
</html>